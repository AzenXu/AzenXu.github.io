<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.46-DEV" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>【Git技巧】为Git创建一个孤立分支 &middot; 细胞的作战实验室</title>

  
  <link type="text/css" rel="stylesheet" href="http://azen.me/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="http://azen.me/css/poole.css">
  <link type="text/css" rel="stylesheet" href="http://azen.me/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="http://azen.me/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="细胞的作战实验室" />

  
</head>

  <body class=" ">
  <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://azen.me/"><h1>细胞的作战实验室</h1></a>
      <p class="lead">
      Power by <a href="http://hugo.spf13.com">hugo</a>
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="http://azen.me/">Home</a> </li>
      
    </ul>

    <p>&copy; 2018. All rights reserved. </p>
  </div>
</div>

    <div class="content container">
    <div class="post">
  <h1>【Git技巧】为Git创建一个孤立分支</h1>
  <span class="post-date">Thu, Apr 19, 2018</span>
  <p>&nbsp;</p>         <h2>问题描述</h2><p>有时候我们需要在GIT里面创建一个空分支，该分支不继承任何提交，没有父节点，完全是一个干净的分支，例如我们需要在某个分支里存放项目文档。<br />使用传统的git checkout命令创建的分支是有父节点的，意味着新branch包含了历史提交，所以我们无法直接使用该命令。</p><h2>可视化效果</h2><p><img class="confluence-embedded-image confluence-thumbnail" width="286" src="/download/thumbnails/66840/image2018-4-19_14-27-9.png?version=1&amp;modificationDate=1524119243576&amp;api=v2" data-image-src="/download/attachments/66840/image2018-4-19_14-27-9.png?version=1&amp;modificationDate=1524119243576&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="66839" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2018-4-19_14-27-9.png" data-base-url="http://47.93.232.68:8090" data-linked-resource-content-type="image/png" data-linked-resource-container-id="66840" data-linked-resource-container-version="1" title="Azen > 【Git技巧】为Git创建一个孤立分支 > image2018-4-19_14-27-9.png" data-location="Azen > 【Git技巧】为Git创建一个孤立分支 > image2018-4-19_14-27-9.png" data-image-height="560" data-image-width="1310"></p><h2>解决方法</h2><h3>创建分支</h3><p>使用 git checkout的--orphan参数:</p><pre><code class="bash">git checkout --orphan doc</code></pre><p>该命令会创建一个名为doc的分支，并且该分支下有前一个分支下的所有文件。<br />查看--orphan的帮助：</p><blockquote style="margin-left: 0.0px;"><p>Create a new orphan branch, named &lt;new_branch&gt;, started from &lt;start point&gt; and switch to it. The first commit made on the new branch will have no parents and it will be the root of a new history totally disconnected from all the other branchs and commits.</p></blockquote><p>这里的start point指的是你执行git checkout命令时的那个分支，当然新的分支不会指向任何以前的提交，就是它没有历史，如果你提交当前内容，那么这次提交就是这个分支的首次提交。</p><h3>删除所有内容</h3><p>我们不想提交任何内容，所以我们需要把当前内容全部删除，用git命令：</p><pre><code class="bash">git rm -rf .</code></pre><h3>提交分支</h3><p>使用commit命令来提交分支</p><pre><code class="bash">git commit -am <span class="hljs-string" style="color: rgb(221,17,68);">&quot;new branch for documentation&quot;</span></code></pre><p>如果没有任何文件提交的话，分支是看不到的，可以创建一个新文件后再次提交则新创建的branch就会显示出来。<br />使用branch来查看分支是否创建成功</p><pre><code class="bash">git branch <span class="hljs-_">-a</span></code></pre><pre><code class="bash"><span class="hljs-_"><br /></span></code></pre><p><a href="https://segmentfault.com/a/1190000004931751">源</a></p>
        <p>&nbsp;</p>
    

</div>


    </div>

    
  </body>
</html>